<%- partial('common/article', { post: page, hideTitle: true }) %>

<div style="text-align: center">
	<input type="text" id="page-local-search-input" name="q" results="0" class="st-search-input st-default-search-input form-control"/>
</div>
<!-- <div id="page-local-search-result"></div> -->

<div class="st-default-autocomplete" data-st-target-element=".st-default-search-input">
    <div class="st-autocomplete-results st-ui-autocomplete">
        <div id="page-local-search-result" class="st-query-present"></div>
    </div>
</div>



<script type="text/javascript">

	function getParameterByName(name, url) {
	    if (!url) url = window.location.href;
	    url = url.toLowerCase(); // This is just to avoid case sensitiveness  
	    name = name.replace(/[\[\]]/g, "\\$&").toLowerCase();// This is just to avoid case sensitiveness for query parameter name
	    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
	        results = regex.exec(url);
	    if (!results) return null;
	    if (!results[2]) return '';
	    return decodeURIComponent(results[2].replace(/\+/g, " "));
	}


	document.getElementById('page-local-search-input').value = getParameterByName('search') || '';

    var path = "<%= config.root %>search.xml";
    searchFunc(path, 'page-local-search-input', 'page-local-search-result', function (handle) {
    	handle();
    });
	

</script>